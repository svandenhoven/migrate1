{{/*
  Find the source project for a page

  @return string
    Name of the source project for this page.
    This will be a key from the products.yaml data file.
*/}}

{{- if $.File -}}
  {{- if $.File.Section -}}
    {{- $section := $.File.Section -}}

    {{- $productData := index $.Site.Data.products "products" -}}
    {{- $sectionData := index $productData $section -}}

    {{- if not $sectionData -}}
      <!-- If the page Section does not match a key in products.yaml, it's a page from the "gitlab" project -->
      {{- $section = "gitlab" -}}
    {{- end -}}

    {{- print $section -}}
  {{- end -}}
{{- end -}}
